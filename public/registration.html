<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="styles/loader.css">
    <script>
      window.onload = function(){
        document.getElementById("stop").style.display="none";
      }
	</script>
<link rel="stylesheet" href="styles/loader.css">
<script src="scripts/web3.min.js"></script>
<script>
	if(typeof web3!='undefined'){
web3=new Web3(web3.currentProvider);
}else{
web3=new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
}
	web3.eth.defaultAccount=web3.eth.accounts[0];
	var bc = new web3.eth.Contract(
	[
	{
		"inputs": [
			{
				"internalType": "int256",
				"name": "_gstin",
				"type": "int256"
			},
			{
				"internalType": "string",
				"name": "_businessname",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_aadharno",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_phoneno",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_pass",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_conpass",
				"type": "string"
			}
		],
		"name": "addBusiness",
		"outputs": [],
		"payable":false,
		"stateMutability": "nonpayable",
		"type": "function"
	}
]);
var c = bc.at("0xf056699debb4ee0F6C7bf77eDDE5D115739DB586");


	function register() {
		gstin = document.getElementById("GSTIN").value;
		name = document.getElementById("Business").value;
		aadhar =document.getElementById("Aadhar").value;
		phone = document.getElementById("Phone").value;
		pass = document.getElementById("Password").value;
		con  = document.getElementById("Confirm").value;
		bc.addBusiness(gstin,name,aadhar,phone,pass,con);
		console.log(bc);
		window.location.href("login.html");
	}
</script>
	<title>Registration</title>
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="styles/style.css">
</head>
<body>
	<div class="pageloader" id="stop">
		<div class="sk-chase">
		  <div class="sk-chase-dot"></div>
		  <div class="sk-chase-dot"></div>
		  <div class="sk-chase-dot"></div>
		  <div class="sk-chase-dot"></div>
		  <div class="sk-chase-dot"></div>
		  <div class="sk-chase-dot"></div>
		</div>
	  </div>
	  <nav class="navbar-fixed">
            <div class="nav-wrapper">
              <a href="index.html" class="brand-logo"><img src="images/pwa-192x192.png" height='60px' width='90px' alt="GST logo">GST System</a>
            </div>
          </nav>
    <!-- start register -->
    <div class="container" style="margin-top: 100px;">
    <form action="">
	    <h2>Registration</h2>
	    <label for="GSTIN">GSTIN</label>
	    <input type="text" name="GSTIN" id="GSTIN">
	    <label for="Business Name">Business Name</label>
	    <input type="text" name="Business Name" id="Business">
	    <label for="Aadhar Number">Aadhar Number</label>
	    <input type="text" name="Aadhar Number" id="Aadhar">
	    <label for="Phone Number">Phone Number</label>
	    <input type="text" name="Phone Number" id="Phone">
	    <label for="Password">Password</label>
	    <input type="password" name="Password" id="Password">
	    <label for="Confirm Password">Confirm Password</label>
		<input type="password" name="Confirm Password" id="Confirm">
	    <input type="button" value="Register" style="background-color: #FFEF5E;" onclick="register()">
     </form>
     </div>
     <!-- end register -->

</body>
</html>